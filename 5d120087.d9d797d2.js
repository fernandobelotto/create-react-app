(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{113:function(e,a,t){"use strict";t.d(a,"a",(function(){return b})),t.d(a,"b",(function(){return u}));var o=t(0),n=t.n(o);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var s=n.a.createContext({}),l=function(e){var a=n.a.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):c(c({},a),e)),t},b=function(e){var a=l(e.components);return n.a.createElement(s.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.a.createElement(n.a.Fragment,{},a)}},m=n.a.forwardRef((function(e,a){var t=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),b=l(t),m=o,u=b["".concat(i,".").concat(m)]||b[m]||d[m]||r;return t?n.a.createElement(u,c(c({ref:a},s),{},{components:t})):n.a.createElement(u,c({ref:a},s))}));function u(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var c={};for(var p in a)hasOwnProperty.call(a,p)&&(c[p]=a[p]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var s=2;s<r;s++)i[s]=t[s];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},77:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return c})),t.d(a,"rightToc",(function(){return p})),t.d(a,"default",(function(){return l}));var o=t(2),n=t(6),r=(t(0),t(113)),i={id:"deployment",title:"Implanta\xe7\xe3o",sidebar_label:"Implanta\xe7\xe3o"},c={unversionedId:"deployment",id:"deployment",isDocsHomePage:!1,title:"Implanta\xe7\xe3o",description:"npm run build cria um diret\xf3rio build com uma constru\xe7\xe3o de produ\xe7\xe3o de seu aplicativo. Configure seu servidor HTTP favorito para que um visitante de seu site receba index.html, e solicita\xe7\xf5es para caminhos est\xe1ticos como /static/ js/main..js s\xe3o atendidos com o conte\xfado do arquivo /static/js/main..js. Para obter mais informa\xe7\xf5es, consulte a se\xe7\xe3o build de produ\xe7\xe3o.",source:"@site/..\\docs\\deployment.md",slug:"/deployment",permalink:"/create-react-app/docs/deployment",editUrl:"https://github.com/facebook/create-react-app/edit/master/docusaurus/website/../docs/deployment.md",version:"current",lastUpdatedBy:"Fernando Belotto",lastUpdatedAt:1609718974,sidebar_label:"Implanta\xe7\xe3o",sidebar:"docs",previous:{title:"Tags Title e Meta",permalink:"/create-react-app/docs/title-and-meta-tags"},next:{title:"Modelos personalizados",permalink:"/create-react-app/docs/custom-templates"}},p=[{value:"Servidor Est\xe1tico",id:"servidor-est\xe1tico",children:[]},{value:"Outras Solu\xe7\xf5es",id:"outras-solu\xe7\xf5es",children:[]},{value:"Servindo aplicativos com roteamento do lado do cliente",id:"servindo-aplicativos-com-roteamento-do-lado-do-cliente",children:[]},{value:"Construindo para caminhos relativos",id:"construindo-para-caminhos-relativos",children:[{value:"Servindo a mesma compila\xe7\xe3o a partir de paths diferentes",id:"servindo-a-mesma-compila\xe7\xe3o-a-partir-de-paths-diferentes",children:[]}]},{value:"Personalizando Vari\xe1veis \u200b\u200bde Ambiente para Ambientes de Compila\xe7\xe3o Arbitr\xe1ria",id:"personalizando-vari\xe1veis-de-ambiente-para-ambientes-de-compila\xe7\xe3o-arbitr\xe1ria",children:[]},{value:"AWS Amplify",id:"aws-amplify",children:[]},{value:"Azure",id:"azure",children:[]},{value:"Firebase",id:"firebase",children:[]},{value:"GitHub Pages",id:"github-pages",children:[{value:"Etapa 1: Adicionar <code>homepage</code> ao <code>package.json</code>",id:"etapa-1-adicionar-homepage-ao-packagejson",children:[]},{value:"Etapa 2: Instale <code>gh-pages</code> e adicione <code>deploy</code> aos <code>scripts</code> em <code>package.json</code>",id:"etapa-2-instale-gh-pages-e-adicione-deploy-aos-scripts-em-packagejson",children:[]},{value:"Etapa 3: implantar o site executando <code>npm run deploy</code>",id:"etapa-3-implantar-o-site-executando-npm-run-deploy",children:[]},{value:"Etapa 4: para uma p\xe1gina de projeto, certifique-se de que as configura\xe7\xf5es de seu projeto usem <code>gh-pages</code>",id:"etapa-4-para-uma-p\xe1gina-de-projeto-certifique-se-de-que-as-configura\xe7\xf5es-de-seu-projeto-usem-gh-pages",children:[]},{value:"Etapa 5: Opcionalmente, configure o dom\xednio",id:"etapa-5-opcionalmente-configure-o-dom\xednio",children:[]},{value:"Notas sobre o roteamento do lado do cliente",id:"notas-sobre-o-roteamento-do-lado-do-cliente",children:[]},{value:"Solu\xe7\xe3o de problemas",id:"solu\xe7\xe3o-de-problemas",children:[]}]},{value:"Heroku",id:"heroku",children:[{value:"Resolvendo erros de implanta\xe7\xe3o do Heroku",id:"resolvendo-erros-de-implanta\xe7\xe3o-do-heroku",children:[]}]},{value:"Netlify",id:"netlify",children:[]},{value:"Vercel",id:"vercel",children:[{value:"Etapa 1: Implantando seu projeto React no Vercel",id:"etapa-1-implantando-seu-projeto-react-no-vercel",children:[]},{value:"Etapa 2 (opcional): usando um dom\xednio personalizado",id:"etapa-2-opcional-usando-um-dom\xednio-personalizado",children:[]},{value:"Implementando um novo projeto React",id:"implementando-um-novo-projeto-react",children:[]},{value:"Refer\xeancias da Vercel:",id:"refer\xeancias-da-vercel",children:[]}]},{value:"Render",id:"render",children:[]},{value:"S3 e CloudFront",id:"s3-e-cloudfront",children:[]},{value:"Surge",id:"surge",children:[]},{value:"Publica\xe7\xe3o de componentes para npm",id:"publica\xe7\xe3o-de-componentes-para-npm",children:[]}],s={rightToc:p};function l(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"npm run build")," cria um diret\xf3rio ",Object(r.b)("inlineCode",{parentName:"p"},"build")," com uma constru\xe7\xe3o de produ\xe7\xe3o de seu aplicativo. Configure seu servidor HTTP favorito para que um visitante de seu site receba ",Object(r.b)("inlineCode",{parentName:"p"},"index.html"),", e solicita\xe7\xf5es para caminhos est\xe1ticos como ",Object(r.b)("inlineCode",{parentName:"p"},"/static/ js/main.<hash>.js")," s\xe3o atendidos com o conte\xfado do arquivo ",Object(r.b)("inlineCode",{parentName:"p"},"/static/js/main.<hash>.js"),". Para obter mais informa\xe7\xf5es, consulte a se\xe7\xe3o ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/create-react-app/docs/production-build"}),"build de produ\xe7\xe3o"),"."),Object(r.b)("h2",{id:"servidor-est\xe1tico"},"Servidor Est\xe1tico"),Object(r.b)("p",null,"Para ambientes que usam ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://nodejs.org/"}),"Node"),", a maneira mais f\xe1cil de lidar com isso seria instalar ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/zeit/serve"}),"serve")," e deix\xe1-lo lidar com o resto:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"npm install -g serve\nserve -s build\n")),Object(r.b)("p",null,"O \xfaltimo comando mostrado acima servir\xe1 seu site est\xe1tico na porta ",Object(r.b)("strong",{parentName:"p"},"5000"),". Como muitas das configura\xe7\xf5es internas de ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/zeit/serve"}),"serve"),", a porta pode ser ajustada usando os flags ",Object(r.b)("inlineCode",{parentName:"p"},"-l")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"--listen"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"serve -s build -l 4000\n")),Object(r.b)("p",null,"Execute este comando para obter uma lista completa das op\xe7\xf5es dispon\xedveis:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"serve -h\n")),Object(r.b)("h2",{id:"outras-solu\xe7\xf5es"},"Outras Solu\xe7\xf5es"),Object(r.b)("p",null,"Voc\xea n\xe3o precisa necessariamente de um servidor est\xe1tico para executar um projeto Create React App em produ\xe7\xe3o. Ele tamb\xe9m funciona bem quando integrado a um aplicativo existente do lado do servidor."),Object(r.b)("p",null,"Aqui est\xe1 um exemplo program\xe1tico usando ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://nodejs.org/"}),"Node")," e ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://expressjs.com/"}),"Express"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),"const express = require('express');\nconst path = require('path');\nconst app = express();\n\napp.use(express.static(path.join(__dirname, 'build')));\n\napp.get('/', function (req, res) {\n  res.sendFile(path.join(__dirname, 'build', 'index.html'));\n});\n\napp.listen(9000);\n")),Object(r.b)("p",null,"A escolha de seu software de servidor tamb\xe9m n\xe3o \xe9 importante. Como o Create React App \xe9 totalmente independente de plataforma, n\xe3o h\xe1 necessidade de usar o Node explicitamente."),Object(r.b)("p",null,"A pasta ",Object(r.b)("inlineCode",{parentName:"p"},"build")," com ativos est\xe1ticos \xe9 a \xfanica sa\xedda produzida pelo Create React App."),Object(r.b)("p",null,"No entanto, isso n\xe3o \xe9 suficiente se voc\xea usar o roteamento do lado do cliente. Leia a pr\xf3xima se\xe7\xe3o se voc\xea deseja suportar URLs como ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42")," em seu aplicativo de p\xe1gina \xfanica."),Object(r.b)("h2",{id:"servindo-aplicativos-com-roteamento-do-lado-do-cliente"},"Servindo aplicativos com roteamento do lado do cliente"),Object(r.b)("p",null,"Se voc\xea usa roteadores que usam HTML5 ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries"}),"API de hist\xf3rico ",Object(r.b)("inlineCode",{parentName:"a"},"pushState"))," em segundo plano (por exemplo, ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/ReactTraining/react-router"}),"React Router")," com ",Object(r.b)("inlineCode",{parentName:"p"},"browserHistory"),"), muitos servidores de arquivos est\xe1ticos ir\xe3o falhar. Por exemplo, se voc\xea usou o React Router com uma rota para ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42"),", o servidor de desenvolvimento responder\xe1 a ",Object(r.b)("inlineCode",{parentName:"p"},"localhost:3000/todos/42")," apropriadamente, mas um servidor com Express n\xe3o."),Object(r.b)("p",null,"Isso ocorre porque quando h\xe1 um novo carregamento de p\xe1gina para ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42"),", o servidor procura o arquivo ",Object(r.b)("inlineCode",{parentName:"p"},"build/todos/42")," e n\xe3o o encontra. O servidor precisa ser configurado para responder a uma solicita\xe7\xe3o para ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42")," servindo ",Object(r.b)("inlineCode",{parentName:"p"},"index.html"),". Por exemplo, podemos corrigir nosso exemplo com Express acima para servir ",Object(r.b)("inlineCode",{parentName:"p"},"index.html")," para qualquer caminho desconhecido:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-diff"})," app.use(express.static(path.join(__dirname, 'build')));\n\n-app.get('/', function (req, res) {\n+app.get('/*', function (req, res) {\n   res.sendFile(path.join(__dirname, 'build', 'index.html'));\n });\n")),Object(r.b)("p",null,"Se voc\xea estiver usando o ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://httpd.apache.org/"}),"Apache HTTP Server"),", ser\xe1 necess\xe1rio criar um arquivo ",Object(r.b)("inlineCode",{parentName:"p"},".htaccess")," na pasta",Object(r.b)("inlineCode",{parentName:"p"}," public")," semelhante a este:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"    Options -MultiViews\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^ index.html [QSA,L]\n")),Object(r.b)("p",null,"Ele ser\xe1 copiado para a pasta ",Object(r.b)("inlineCode",{parentName:"p"},"build")," quando voc\xea executar ",Object(r.b)("inlineCode",{parentName:"p"},"npm run build"),"."),Object(r.b)("p",null,"Se voc\xea estiver usando o ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://tomcat.apache.org/"}),"Apache Tomcat"),", dever\xe1 seguir ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://stackoverflow.com/a/41249464/4878474"}),"esta resposta do Stack Overflow"),"."),Object(r.b)("p",null,"Agora as solicita\xe7\xf5es para ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42")," ser\xe3o tratadas corretamente tanto no desenvolvimento quanto na produ\xe7\xe3o."),Object(r.b)("p",null,"Em uma vers\xe3o de produ\xe7\xe3o, e quando voc\xea ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/create-react-app/docs/making-a-progressive-web-app#why-opt-in"}),"ativou"),", um ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://developers.google.com/web/fundals/primers/service-workers/"}),"service worker")," tratar\xe1 automaticamente todas as solicita\xe7\xf5es de navega\xe7\xe3o, como para ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42"),", servindo a c\xf3pia em cache do seu ",Object(r.b)("inlineCode",{parentName:"p"},"index.html"),". Este roteamento de navega\xe7\xe3o do service worker pode ser configurado ou desativado ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"/create-react-app/docs/available-scripts#npm-run-eject"}),Object(r.b)("inlineCode",{parentName:"a"},"eject"),"ing"),"e, em seguida, modificando o ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/GoogleChrome/sw-precache#navigatefallback-string"}),Object(r.b)("inlineCode",{parentName:"a"},"navigateFallback"))," e ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp"}),Object(r.b)("inlineCode",{parentName:"a"},"navigateFallbackWhitelist"))," op\xe7\xf5es da configura\xe7\xe3o ",Object(r.b)("inlineCode",{parentName:"p"},"SWPrecachePlugin"),"."),Object(r.b)("p",null,"Quando os usu\xe1rios instalam seu aplicativo na tela inicial de seus dispositivos, a configura\xe7\xe3o padr\xe3o cria um atalho para ",Object(r.b)("inlineCode",{parentName:"p"},"/index.html"),". Isso pode n\xe3o funcionar para roteadores do lado do cliente que esperam que o aplicativo seja servido de ",Object(r.b)("inlineCode",{parentName:"p"},"/"),". Edite o manifesto do aplicativo da web em ",Object(r.b)("inlineCode",{parentName:"p"},"public/manifest.json")," e altere ",Object(r.b)("inlineCode",{parentName:"p"},"start_url")," para corresponder ao esquema de URL necess\xe1rio, por exemplo:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),'  "start_url": ".",\n')),Object(r.b)("h2",{id:"construindo-para-caminhos-relativos"},"Construindo para caminhos relativos"),Object(r.b)("p",null,"Por padr\xe3o, Create React App produz um build assumindo que seu aplicativo est\xe1 hospedado na raiz do servidor."),Object(r.b)("p",null,"Para substituir isso, especifique a ",Object(r.b)("inlineCode",{parentName:"p"},"homepage")," em seu ",Object(r.b)("inlineCode",{parentName:"p"},"package.json"),", por exemplo:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),'  "homepage": "http://mywebsite.com/relativepath",\n')),Object(r.b)("p",null,"Isso permitir\xe1 ao Create React App inferir corretamente o caminho raiz a ser usado no arquivo HTML gerado."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Nota"),": Se voc\xea estiver usando ",Object(r.b)("inlineCode",{parentName:"p"},"react-router@^4"),", voc\xea pode enraizar ",Object(r.b)("inlineCode",{parentName:"p"},"<Link> "),"s usando o prop ",Object(r.b)("inlineCode",{parentName:"p"},"basename")," em qualquer ",Object(r.b)("inlineCode",{parentName:"p"},"<Router>"),"."),Object(r.b)("p",null,"Mais informa\xe7\xf5es acesse ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string"}),"aqui"),"."),Object(r.b)("p",null,"Por exemplo:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),'<BrowserRouter basename="/calendar"/>\n<Link to="/today"/> // renderiza <a href="/calendar/today">\n')),Object(r.b)("h3",{id:"servindo-a-mesma-compila\xe7\xe3o-a-partir-de-paths-diferentes"},"Servindo a mesma compila\xe7\xe3o a partir de paths diferentes"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Nota: este recurso est\xe1 dispon\xedvel com ",Object(r.b)("inlineCode",{parentName:"p"},"react-scripts@0.9.0")," e superior.")),Object(r.b)("p",null,"Se voc\xea n\xe3o estiver usando a API de hist\xf3rico ",Object(r.b)("inlineCode",{parentName:"p"},"pushState")," HTML5 ou n\xe3o usar o roteamento do lado do cliente, n\xe3o \xe9 necess\xe1rio especificar a URL a partir da qual seu aplicativo ser\xe1 servido. Em vez disso, voc\xea pode colocar isso em seu ",Object(r.b)("inlineCode",{parentName:"p"},"package.json"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),'  "homepage": ".",\n')),Object(r.b)("p",null,"Isso garantir\xe1 que todos os caminhos de ativos sejam relativos a ",Object(r.b)("inlineCode",{parentName:"p"},"index.html"),". Voc\xea poder\xe1 ent\xe3o mover seu aplicativo de ",Object(r.b)("inlineCode",{parentName:"p"},"http://mywebsite.com")," para",Object(r.b)("inlineCode",{parentName:"p"}," http://mywebsite.com/relativepath")," ou mesmo ",Object(r.b)("inlineCode",{parentName:"p"},"http://mywebsite.com/relative/path")," sem ter que reconstruir isto."),Object(r.b)("h2",{id:"personalizando-vari\xe1veis-de-ambiente-para-ambientes-de-compila\xe7\xe3o-arbitr\xe1ria"},"Personalizando Vari\xe1veis \u200b\u200bde Ambiente para Ambientes de Compila\xe7\xe3o Arbitr\xe1ria"),Object(r.b)("p",null,"Voc\xea pode criar um ambiente de constru\xe7\xe3o arbitr\xe1rio criando um arquivo ",Object(r.b)("inlineCode",{parentName:"p"},".env")," personalizado e carregando-o usando ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://www.npmjs.com/package/env-cmd"}),"env-cmd"),"."),Object(r.b)("p",null,"Por exemplo, para criar um ambiente de constru\xe7\xe3o para um ambiente de teste:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Crie um arquivo chamado ",Object(r.b)("inlineCode",{parentName:"li"},".env.staging")),Object(r.b)("li",{parentName:"ol"},"Defina as vari\xe1veis \u200b\u200bde ambiente como voc\xea faria com qualquer outro arquivo ",Object(r.b)("inlineCode",{parentName:"li"},".env")," (e.g. ",Object(r.b)("inlineCode",{parentName:"li"},"REACT_APP_API_URL=http://api-staging.example.com"),")"),Object(r.b)("li",{parentName:"ol"},"instale ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://www.npmjs.com/package/env-cmd"}),"env-cmd"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"$ npm install env-cmd --save\n$ # ou\n$ yarn add env-cmd\n"))),Object(r.b)("li",{parentName:"ol"},"Adicione um novo script ao seu ",Object(r.b)("inlineCode",{parentName:"li"},"package.json"),", construindo com seu novo ambiente:",Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'{\n  "scripts": {\n    "build:staging": "env-cmd -f .env.staging npm run build"\n  }\n}\n')))),Object(r.b)("p",null,"Agora voc\xea pode executar ",Object(r.b)("inlineCode",{parentName:"p"},"npm run build: staging")," para gerar o build com a configura\xe7\xe3o do ambiente de teste.\nVoc\xea pode especificar outros ambientes da mesma maneira."),Object(r.b)("p",null,"Vari\xe1veis \u200b\u200bem ",Object(r.b)("inlineCode",{parentName:"p"},".env.production")," ser\xe3o usadas como fallback porque ",Object(r.b)("inlineCode",{parentName:"p"},"NODE_ENV")," sempre ser\xe1 definido como ",Object(r.b)("inlineCode",{parentName:"p"},"production")," para o build."),Object(r.b)("h2",{id:"aws-amplify"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"http://console.amplify.aws"}),"AWS Amplify")),Object(r.b)("p",null,"O AWS Amplify Console fornece implanta\xe7\xe3o e hospedagem cont\xednuas para aplicativos da web modernos (aplicativos de p\xe1gina \xfanica e geradores de sites est\xe1ticos) com back-ends sem servidor. O Console Amplify oferece CDNs dispon\xedveis globalmente, configura\xe7\xe3o de dom\xednio personalizado, implanta\xe7\xf5es de ramifica\xe7\xe3o de recursos e prote\xe7\xe3o por senha."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Fa\xe7a login no Console do Amplify ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://console.aws.amazon.com/amplify/home"}),"aqui"),"."),Object(r.b)("li",{parentName:"ol"},"Conecte seu reposit\xf3rio Create React App e escolha um branch. Se voc\xea est\xe1 procurando um iniciador Create React App + Amplify, experimente o ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/swaminator/create-react-app-auth-amplify"}),"iniciador create-react-app-auth-amplify")," que demonstra a configura\xe7\xe3o de autentica\xe7\xe3o em 10 minutos com o aplicativo Create React."),Object(r.b)("li",{parentName:"ol"},'O Console do Amplify detecta automaticamente as configura\xe7\xf5es de constru\xe7\xe3o. Escolha "Next".'),Object(r.b)("li",{parentName:"ol"},"Escolha ",Object(r.b)("em",{parentName:"li"},"Save and deploy"),".")),Object(r.b)("p",null,"Se o build for bem-sucedido, o aplicativo ser\xe1 implantado e hospedado em um CDN global com um dom\xednio amplifyapp.com. Agora voc\xea pode implantar altera\xe7\xf5es continuamente em seu front-end ou back-end. A implanta\xe7\xe3o cont\xednua permite que os desenvolvedores implantem atualiza\xe7\xf5es em seu front-end e back-end em cada confirma\xe7\xe3o de c\xf3digo em seu reposit\xf3rio Git."),Object(r.b)("h2",{id:"azure"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://azure.microsoft.com/"}),"Azure")),Object(r.b)("p",null,"O Azure Static Web Apps cria um pipeline automatizado de compila\xe7\xe3o e implanta\xe7\xe3o para o seu aplicativo React desenvolvido com GitHub Actions. Os aplicativos s\xe3o distribu\xeddos geograficamente por padr\xe3o com v\xe1rios pontos de presen\xe7a. Os PRs s\xe3o criados automaticamente para visualiza\xe7\xf5es do ambiente de teste."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Crie um novo aplicativo da Web est\xe1tico ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://ms.portal.azure.com/#create/Microsoft.StaticApp"}),"aqui"),"."),Object(r.b)("li",{parentName:"ol"},"Adicione os detalhes e conecte-se ao seu reposit\xf3rio GitHub."),Object(r.b)("li",{parentName:"ol"},'Certifique-se de que a pasta de build esteja configurada corretamente na guia "build" e crie o recurso.')),Object(r.b)("p",null,"Os aplicativos da Web est\xe1ticos do Azure configurar\xe3o automaticamente uma a\xe7\xe3o do GitHub em seu repo e iniciar\xe3o a implanta\xe7\xe3o."),Object(r.b)("p",null,"Consulte a ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://aka.ms/swadocs"}),"documenta\xe7\xe3o do Azure Static Web Apps")," para obter mais informa\xe7\xf5es sobre roteamento, APIs, autentica\xe7\xe3o e autoriza\xe7\xe3o, dom\xednios personalizados e muito mais."),Object(r.b)("h2",{id:"firebase"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://firebase.google.com/"}),"Firebase")),Object(r.b)("p",null,"Instale a Firebase CLI, caso ainda n\xe3o o tenha feito, executando ",Object(r.b)("inlineCode",{parentName:"p"},"npm install -g firebase-tools"),". Inscreva-se em uma ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://console.firebase.google.com/"}),"conta Firebase")," e crie um novo projeto. Execute ",Object(r.b)("inlineCode",{parentName:"p"},"firebase login")," e fa\xe7a login com sua conta Firebase criada anteriormente."),Object(r.b)("p",null,"Em seguida, execute o comando ",Object(r.b)("inlineCode",{parentName:"p"},"firebase init")," a partir da raiz do seu projeto. Voc\xea precisa escolher ",Object(r.b)("strong",{parentName:"p"},"Hosting: configurar e implantar sites do Firebase Hosting")," e escolher o projeto do Firebase que voc\xea criou na etapa anterior. Voc\xea precisar\xe1 concordar com a cria\xe7\xe3o de ",Object(r.b)("inlineCode",{parentName:"p"},"database.rules.json"),", escolher ",Object(r.b)("inlineCode",{parentName:"p"},"build")," como o diret\xf3rio p\xfablico e tamb\xe9m concordar em ",Object(r.b)("strong",{parentName:"p"},"Configurar como um aplicativo de p\xe1gina \xfanica")," respondendo com ",Object(r.b)("inlineCode",{parentName:"p"},"y"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"    === Project Setup\n\n    First, let's associate this project directory with a Firebase project.\n    You can create multiple project aliases by running firebase use --add,\n    but for now we'll set up a default project.\n\n    ? What Firebase project do you want to associate as default? Example app (example-app-fd690)\n\n    === Database Setup\n\n    Firebase Realtime Database Rules allow you to define how your data should be\n    structured and when your data can be read from and written to.\n\n    ? What file should be used for Database Rules? database.rules.json\n    \u2714  Database Rules for example-app-fd690 have been downloaded to database.rules.json.\n    Future modifications to database.rules.json will update Database Rules when you run\n    firebase deploy.\n\n    === Hosting Setup\n\n    Your public directory is the folder (relative to your project directory) that\n    will contain Hosting assets to uploaded with firebase deploy. If you\n    have a build process for your assets, use your build's output directory.\n\n    ? What do you want to use as your public directory? build\n    ? Configure as a single-page app (rewrite all urls to /index.html)? Yes\n    \u2714  Wrote build/index.html\n\n    i  Writing configuration info to firebase.json...\n    i  Writing project information to .firebaserc...\n\n    \u2714  Firebase initialization complete!\n")),Object(r.b)("p",null,"IMPORTANTE: voc\xea precisa definir cabe\xe7alhos de cache HTTP adequados para o arquivo ",Object(r.b)("inlineCode",{parentName:"p"},"service-worker.js")," no arquivo ",Object(r.b)("inlineCode",{parentName:"p"},"firebase.json")," ou n\xe3o conseguir\xe1 ver as altera\xe7\xf5es ap\xf3s a primeira implanta\xe7\xe3o (",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/facebook/create-react-app/issues/2440"}),"issue #2440"),"). Deve ser adicionado dentro da chave ",Object(r.b)("inlineCode",{parentName:"p"},'"hosting"')," como a seguir:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'{\n  "hosting": {\n    ...\n    "headers": [\n      {"source": "/service-worker.js", "headers": [{"key": "Cache-Control", "value": "no-cache"}]}\n    ]\n    ...\n')),Object(r.b)("p",null,"Agora, depois de criar um build de produ\xe7\xe3o com ",Object(r.b)("inlineCode",{parentName:"p"},"npm run build"),", voc\xea pode implement\xe1-lo executando ",Object(r.b)("inlineCode",{parentName:"p"},"firebase deploy"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"    === Deploying to 'example-app-fd690'...\n\n    i  deploying database, hosting\n    \u2714  database: rules ready to deploy.\n    i  hosting: preparing build directory for upload...\n    Uploading: [==============================          ] 75%\u2714  hosting: build folder uploaded successfully\n    \u2714  hosting: 8 files uploaded successfully\n    i  starting release process (may take several minutes)...\n\n    \u2714  Deploy complete!\n\n    Project Console: https://console.firebase.google.com/project/example-app-fd690/overview\n    Hosting URL: https://example-app-fd690.firebaseapp.com\n")),Object(r.b)("p",null,"For more information see ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://firebase.google.com/docs/hosting"}),"Firebase Hosting"),"."),Object(r.b)("h2",{id:"github-pages"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://pages.github.com/"}),"GitHub Pages")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Nota: este recurso est\xe1 dispon\xedvel com ",Object(r.b)("inlineCode",{parentName:"p"},"react-scripts@0.2.0")," e superior.")),Object(r.b)("h3",{id:"etapa-1-adicionar-homepage-ao-packagejson"},"Etapa 1: Adicionar ",Object(r.b)("inlineCode",{parentName:"h3"},"homepage")," ao ",Object(r.b)("inlineCode",{parentName:"h3"},"package.json")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"O passo abaixo \xe9 importante!")," ",Object(r.b)("br",null)),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Se voc\xea pular, seu aplicativo n\xe3o ser\xe1 implantado corretamente.")),Object(r.b)("p",null,"Abra seu ",Object(r.b)("inlineCode",{parentName:"p"},"package.json")," e adicione um campo ",Object(r.b)("inlineCode",{parentName:"p"},"homepage")," para seu projeto:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'  "homepage": "https://myusername.github.io/my-app",\n')),Object(r.b)("p",null,"ou para uma p\xe1gina de usu\xe1rio do GitHub:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'  "homepage": "https://myusername.github.io",\n')),Object(r.b)("p",null,"ou para uma p\xe1gina de dom\xednio personalizada:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'  "homepage": "https://mywebsite.com",\n')),Object(r.b)("p",null,"O Create React App usa o campo ",Object(r.b)("inlineCode",{parentName:"p"},"homepage")," para determinar a URL raiz no arquivo HTML constru\xeddo."),Object(r.b)("h3",{id:"etapa-2-instale-gh-pages-e-adicione-deploy-aos-scripts-em-packagejson"},"Etapa 2: Instale ",Object(r.b)("inlineCode",{parentName:"h3"},"gh-pages")," e adicione ",Object(r.b)("inlineCode",{parentName:"h3"},"deploy")," aos ",Object(r.b)("inlineCode",{parentName:"h3"},"scripts")," em ",Object(r.b)("inlineCode",{parentName:"h3"},"package.json")),Object(r.b)("p",null,"Agora, sempre que voc\xea executar ",Object(r.b)("inlineCode",{parentName:"p"},"npm run build"),", ver\xe1 uma cheat sheet de dicas com instru\xe7\xf5es sobre como implantar nas p\xe1ginas do GitHub."),Object(r.b)("p",null,"Para public\xe1-lo em ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://myusername.github.io/my-app"}),"https://myusername.github.io/my-app"),", execute:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"npm install --save gh-pages\n")),Object(r.b)("p",null,"Alternativamente, voc\xea pode usar ",Object(r.b)("inlineCode",{parentName:"p"},"yarn"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"yarn add gh-pages\n")),Object(r.b)("p",null,"Adicione os seguintes scripts em seu ",Object(r.b)("inlineCode",{parentName:"p"},"package.json"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-diff"}),'  "scripts": {\n+   "predeploy": "npm run build",\n+   "deploy": "gh-pages -d build",\n    "start": "react-scripts start",\n    "build": "react-scripts build",\n')),Object(r.b)("p",null,"O script ",Object(r.b)("inlineCode",{parentName:"p"},"predeploy")," ser\xe1 executado automaticamente antes de ",Object(r.b)("inlineCode",{parentName:"p"},"deploy")," ser executado."),Object(r.b)("p",null,"Se estiver implantando em uma p\xe1gina de usu\xe1rio do GitHub em vez de em uma p\xe1gina de projeto, voc\xea precisar\xe1 fazer uma modifica\xe7\xe3o adicional:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Ajuste seus scripts ",Object(r.b)("inlineCode",{parentName:"li"},"package.json")," para enviar implanta\xe7\xf5es para ",Object(r.b)("strong",{parentName:"li"},"master"),":")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-diff"}),'  "scripts": {\n    "predeploy": "npm run build",\n-   "deploy": "gh-pages -d build",\n+   "deploy": "gh-pages -b master -d build",\n')),Object(r.b)("h3",{id:"etapa-3-implantar-o-site-executando-npm-run-deploy"},"Etapa 3: implantar o site executando ",Object(r.b)("inlineCode",{parentName:"h3"},"npm run deploy")),Object(r.b)("p",null,"Ent\xe3o execute:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"npm run deploy\n")),Object(r.b)("h3",{id:"etapa-4-para-uma-p\xe1gina-de-projeto-certifique-se-de-que-as-configura\xe7\xf5es-de-seu-projeto-usem-gh-pages"},"Etapa 4: para uma p\xe1gina de projeto, certifique-se de que as configura\xe7\xf5es de seu projeto usem ",Object(r.b)("inlineCode",{parentName:"h3"},"gh-pages")),Object(r.b)("p",null,"Por fim, certifique-se de que a op\xe7\xe3o ",Object(r.b)("strong",{parentName:"p"},"GitHub Pages")," nas configura\xe7\xf5es do projeto GitHub esteja definida para usar o branch ",Object(r.b)("inlineCode",{parentName:"p"},"gh-pages"),":"),Object(r.b)("img",{src:"https://i.imgur.com/HUjEr9l.png",width:"500",alt:"gh-pages branch setting"}),Object(r.b)("h3",{id:"etapa-5-opcionalmente-configure-o-dom\xednio"},"Etapa 5: Opcionalmente, configure o dom\xednio"),Object(r.b)("p",null,"Voc\xea pode configurar um dom\xednio personalizado com p\xe1ginas GitHub adicionando um arquivo ",Object(r.b)("inlineCode",{parentName:"p"},"CNAME")," \xe0 pasta ",Object(r.b)("inlineCode",{parentName:"p"},"public/"),"."),Object(r.b)("p",null,"Seu arquivo CNAME deve ser assim:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"mywebsite.com\n")),Object(r.b)("h3",{id:"notas-sobre-o-roteamento-do-lado-do-cliente"},"Notas sobre o roteamento do lado do cliente"),Object(r.b)("p",null,"O GitHub Pages n\xe3o oferece suporte a routers que usam a API de hist\xf3rico ",Object(r.b)("inlineCode",{parentName:"p"},"pushState")," do HTML5 (por exemplo, React Router usando ",Object(r.b)("inlineCode",{parentName:"p"},"browserHistory"),"). Isso ocorre porque quando h\xe1 um novo carregamento de p\xe1gina para um url como ",Object(r.b)("inlineCode",{parentName:"p"},"http://user.github.io/todomvc/todos/42"),", onde ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42")," \xe9 uma rota de front-end, o servidor GitHub Pages retorna 404 porque n\xe3o sabe nada de ",Object(r.b)("inlineCode",{parentName:"p"},"/todos/42"),". Se voc\xea deseja adicionar um roteador a um projeto hospedado no GitHub Pages, aqui est\xe3o algumas solu\xe7\xf5es:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Voc\xea pode mudar do uso da API de hist\xf3rico do HTML5 para o roteamento com hashes. Se voc\xea usar o React Router, voc\xea pode mudar para ",Object(r.b)("inlineCode",{parentName:"li"},"hashHistory")," para este efeito, mas a URL ser\xe1 mais longa e detalhada (por exemplo,",Object(r.b)("inlineCode",{parentName:"li"},"http://user.github.io/todomvc/#/todos/42?_k=yknaj"),"). ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://reacttraining.com/react-router/web/api/Router"}),"Leia mais")," sobre diferentes implementa\xe7\xf5es de hist\xf3rico no Roteador React."),Object(r.b)("li",{parentName:"ul"},"Como alternativa, voc\xea pode usar um truque para ensinar as p\xe1ginas do GitHub a lidar com 404s, redirecionando para a p\xe1gina ",Object(r.b)("inlineCode",{parentName:"li"},"index.html")," com um par\xe2metro de redirecionamento personalizado. Voc\xea precisaria adicionar um arquivo ",Object(r.b)("inlineCode",{parentName:"li"},"404.html")," com o c\xf3digo de redirecionamento para a pasta ",Object(r.b)("inlineCode",{parentName:"li"},"build")," antes de implantar seu projeto, e voc\xea precisar\xe1 adicionar o c\xf3digo que manipula o par\xe2metro de redirecionamento para ",Object(r.b)("inlineCode",{parentName:"li"},"index.html"),". Voc\xea pode encontrar uma explica\xe7\xe3o detalhada dessa t\xe9cnica ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/rafrex/spa-github-pages"}),"neste guia"),".")),Object(r.b)("h3",{id:"solu\xe7\xe3o-de-problemas"},"Solu\xe7\xe3o de problemas"),Object(r.b)("h4",{id:"devtty-no-such-a-device-or-address"},'"/dev/tty: No such a device or address"'),Object(r.b)("p",null,"Se, ao implantar, voc\xea obtiver ",Object(r.b)("inlineCode",{parentName:"p"},"/dev/tty: No such tal device or address")," ou um erro semelhante, tente o seguinte:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Crie um novo ",Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/settings/tokens"}),"token de acesso pessoal")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("inlineCode",{parentName:"li"},"git remote set-url origin https://<user>:<token>@ github.com/<user>/<repo>"),"."),Object(r.b)("li",{parentName:"ol"},"Tente ",Object(r.b)("inlineCode",{parentName:"li"},"npm runploy")," novamente")),Object(r.b)("h4",{id:"cannot-read-property-email-of-null"},"\"Cannot read property 'email' of null\""),Object(r.b)("p",null,"Se, durante a implanta\xe7\xe3o, voc\xea obtiver ",Object(r.b)("inlineCode",{parentName:"p"},"Cannot read property 'email' of null"),", tente o seguinte:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("inlineCode",{parentName:"li"},"git config --global user.name '<your_name>'")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("inlineCode",{parentName:"li"},"git config --global user.email '<your_email>'")),Object(r.b)("li",{parentName:"ol"},"Tente executar ",Object(r.b)("inlineCode",{parentName:"li"},"npm run deploy")," novamente")),Object(r.b)("h2",{id:"heroku"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://www.heroku.com/"}),"Heroku")),Object(r.b)("p",null,"Use o ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/mars/create-react-app-buildpack"}),"Heroku Buildpack para Create React App"),"."),Object(r.b)("p",null,"Voc\xea pode encontrar instru\xe7\xf5es em ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://blog.heroku.com/deploying-react-with-zero-configuration"}),"Deploying React with Zero Configuration"),"."),Object(r.b)("h3",{id:"resolvendo-erros-de-implanta\xe7\xe3o-do-heroku"},"Resolvendo erros de implanta\xe7\xe3o do Heroku"),Object(r.b)("p",null,"\xc0s vezes, ",Object(r.b)("inlineCode",{parentName:"p"},"npm run build")," funciona localmente, mas falha durante a implanta\xe7\xe3o via Heroku. A seguir est\xe3o os casos mais comuns."),Object(r.b)("h4",{id:"module-not-found-error-cannot-resolve-file-or-directory"},"\"Module not found: Error: Cannot resolve 'file' or 'directory'\""),Object(r.b)("p",null,"Se voc\xea receber algo assim:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"remote: Failed to create a production build. Reason:\nremote: Module not found: Error: Cannot resolve 'file' or 'directory'\nMyDirectory in /tmp/build_1234/src\n")),Object(r.b)("p",null,"Isso significa que voc\xea precisa garantir que a caixa de letras do arquivo ou diret\xf3rio que voc\xea ",Object(r.b)("inlineCode",{parentName:"p"},"importou")," corresponda \xe0quela que voc\xea v\xea no seu sistema de arquivos ou no GitHub."),Object(r.b)("p",null,"Isso \xe9 importante porque o Linux (o sistema operacional usado pelo Heroku) faz distin\xe7\xe3o entre mai\xfasculas e min\xfasculas. Portanto, ",Object(r.b)("inlineCode",{parentName:"p"},"MyDirectory")," e ",Object(r.b)("inlineCode",{parentName:"p"},"mydirectory")," s\xe3o dois diret\xf3rios distintos e, portanto, embora o projeto seja compilado localmente, a diferen\xe7a no caso de quebrar as instru\xe7\xf5es ",Object(r.b)("inlineCode",{parentName:"p"},"import")," nos Heroku remotes."),Object(r.b)("h4",{id:"could-not-find-a-required-file"},'"Could not find a required file."'),Object(r.b)("p",null,"Se voc\xea excluir ou ignorar os arquivos necess\xe1rios do pacote, ver\xe1 um erro semelhante a este:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),'remote: Could not find a required file.\nremote:   Name: `index.html`\nremote:   Searched in: /tmp/build_a2875fc163b209225122d68916f1d4df/public\nremote:\nremote: npm ERR! Linux 3.13.0-105-generic\nremote: npm ERR! argv "/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node" "/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm" "run" "build"\n')),Object(r.b)("p",null,"Nesse caso, certifique-se de que o arquivo esteja com as letras mai\xfasculas adequadas e que n\xe3o seja ignorado em seu ",Object(r.b)("inlineCode",{parentName:"p"},".gitignore")," ou",Object(r.b)("inlineCode",{parentName:"p"}," ~/.gitignore_global")," local."),Object(r.b)("h2",{id:"netlify"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://www.netlify.com/"}),"Netlify")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Para fazer uma implanta\xe7\xe3o manual no CDN da Netlify:")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"npm install netlify-cli -g\nnetlify deploy\n")),Object(r.b)("p",null,"Escolha ",Object(r.b)("inlineCode",{parentName:"p"},"build")," como o caminho para implantar."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Para configurar entrega cont\xednua:")),Object(r.b)("p",null,"Com esta configura\xe7\xe3o, o Netlify criar\xe1 e implantar\xe1 quando voc\xea enviar para git ou abrir uma solicita\xe7\xe3o pull:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://app.netlify.com/signup"}),"Inicie um novo projeto netlify")),Object(r.b)("li",{parentName:"ol"},"Escolha seu servi\xe7o de hospedagem Git e selecione seu reposit\xf3rio"),Object(r.b)("li",{parentName:"ol"},"Clique em ",Object(r.b)("inlineCode",{parentName:"li"},"Build your site"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Suporte para roteamento do lado do cliente:")),Object(r.b)("p",null,"Para suportar ",Object(r.b)("inlineCode",{parentName:"p"},"pushState"),", certifique-se de criar um arquivo ",Object(r.b)("inlineCode",{parentName:"p"},"public/_redirects")," com as seguintes regras de reescrita:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"/*  /index.html  200\n")),Object(r.b)("p",null,"Ao construir o projeto, Create React App colocar\xe1 o conte\xfado da pasta ",Object(r.b)("inlineCode",{parentName:"p"},"public")," na sa\xedda do build."),Object(r.b)("h2",{id:"vercel"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://vercel.com"}),"Vercel")),Object(r.b)("p",null,Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/home"}),"Vercel")," \xe9 uma plataforma de nuvem que permite aos desenvolvedores hospedar sites Jamstack e servi\xe7os da web que s\xe3o implantados instantaneamente, escalonados automaticamente e n\xe3o requerem supervis\xe3o, tudo com configura\xe7\xe3o zero. Eles fornecem uma rede de borda global, criptografia SSL, compacta\xe7\xe3o de assets, invalida\xe7\xe3o de cache e muito mais."),Object(r.b)("h3",{id:"etapa-1-implantando-seu-projeto-react-no-vercel"},"Etapa 1: Implantando seu projeto React no Vercel"),Object(r.b)("p",null,"Para implantar seu projeto React com um ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/git-integrations"}),"Vercel for Git Integration"),", certifique-se de que ele foi enviado para um reposit\xf3rio Git."),Object(r.b)("p",null,"Importe o projeto para o Vercel usando o ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/import/git"}),"Fluxo de importa\xe7\xe3o"),". Durante a importa\xe7\xe3o, voc\xea encontrar\xe1 todas as ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/build-step#build-&-development-settings"}),"op\xe7\xf5es")," relevantes pr\xe9-configuradas para voc\xea com a capacidade de alterar conforme necess\xe1rio."),Object(r.b)("p",null,"After your project has been imported, all subsequent pushes to branches will generate ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/platform/deployments#preview"}),"Preview Deployments"),", and all changes made to the ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/git-integrations#production-branch"}),"Production Branch"),' (commonly "master" or "main") will result in a ',Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/platform/deployments#production"}),"Production Deployment"),".\nDepois que seu projeto foi importado, todos os envios subsequentes para branches ir\xe3o gerar ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/platform/deployments#preview"}),"Preview Deployments"),", e todas as mudan\xe7as feitas no ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/git-integrations#production-branch"}),"Production Branch"),' (geralmente "master" ou "principal") resultar\xe1 em uma ',Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/platform/deployments#production"}),"implanta\xe7\xe3o de produ\xe7\xe3o")," ."),Object(r.b)("p",null,"Depois de implantado, voc\xea receber\xe1 um URL para ver seu aplicativo ativo, como o seguinte: ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://create-react-app-example.vercel.app/"}),"https://create-react-app-example.vercel.app/"),"."),Object(r.b)("h3",{id:"etapa-2-opcional-usando-um-dom\xednio-personalizado"},"Etapa 2 (opcional): usando um dom\xednio personalizado"),Object(r.b)("p",null,"Se quiser usar um dom\xednio personalizado com a implanta\xe7\xe3o do Vercel, voc\xea pode ",Object(r.b)("strong",{parentName:"p"},"Adicionar")," ou ",Object(r.b)("strong",{parentName:"p"},"transferir")," um dom\xednio por meio de suas ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/dashboard/domains."}),"configura\xe7\xf5es de dom\xednio da conta")),Object(r.b)("p",null,"Para adicionar seu dom\xednio ao seu projeto, navegue at\xe9 seu ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/docs/platform/projects"}),"Projeto"),' no Painel do Vercel. Depois de selecionar seu projeto, clique na guia "Configura\xe7\xf5es" e selecione o item de menu ',Object(r.b)("strong",{parentName:"p"},"Dom\xednios"),". Na p\xe1gina ",Object(r.b)("strong",{parentName:"p"},"Dom\xednio")," de seus projetos, insira o dom\xednio que deseja adicionar ao seu projeto."),Object(r.b)("p",null,"Depois que o dom\xednio for adicionado, voc\xea ver\xe1 diferentes m\xe9todos para configur\xe1-lo."),Object(r.b)("h3",{id:"implementando-um-novo-projeto-react"},"Implementando um novo projeto React"),Object(r.b)("p",null,"Voc\xea pode implantar um novo projeto React, com um reposit\xf3rio Git configurado para voc\xea, com o seguinte bot\xe3o de implanta\xe7\xe3o:"),Object(r.b)("p",null,Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://vercel.com/import/git?s=https%3A%2F%2Fgithub.com%2Fvercel%2Fvercel%2Ftree%2Fmaster%2Fexamples%2Fcreate-react-app"}),Object(r.b)("img",Object(o.a)({parentName:"a"},{src:"https://vercel.com/button",alt:"Deploy with Vercel"})))),Object(r.b)("h3",{id:"refer\xeancias-da-vercel"},"Refer\xeancias da Vercel:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/vercel/vercel/tree/master/examples/create-react-app"}),"Fonte de exemplo")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://vercel.com/guides/deploying-react-with-vercel-cra"}),"Guia Oficial Vercel")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://vercel.com/docs"}),"Documentos de implanta\xe7\xe3o do Vercel")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(o.a)({parentName:"li"},{href:"https://vercel.com/docs/custom-domains"}),"Documentos de dom\xednio personalizado Vercel"))),Object(r.b)("h2",{id:"render"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://render.com"}),"Render")),Object(r.b)("p",null,"Render oferece ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://render.com/docs/static-sites"}),"site est\xe1tico")," gratuito, hospedagem com SSL totalmente gerenciado, um CDN global e implanta\xe7\xf5es autom\xe1ticas cont\xednuas do GitHub."),Object(r.b)("p",null,"Deploy your app in only a few minutes by following the ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://render.com/docs/deploy-create-react-app"}),"Create React App deployment guide"),".\nImplante seu aplicativo em apenas alguns minutos, seguindo o ","[guia de implanta\xe7\xe3o Create React App]"," (",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://render.com/docs/deploy-create-react-app"}),"https://render.com/docs/deploy-create-react-app"),")."),Object(r.b)("p",null,"Use o c\xf3digo de convite ",Object(r.b)("inlineCode",{parentName:"p"},"cra")," para se inscrever ou use ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://render.com/i/cra"}),"este link"),"."),Object(r.b)("h2",{id:"s3-e-cloudfront"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://aws.amazon.com/s3"}),"S3")," e ",Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://aws.amazon.com/cloudfront/"}),"CloudFront")),Object(r.b)("p",null,"Veja esta ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af"}),"postagem do blog")," sobre como implantar seu aplicativo React para Amazon Web Services S3 e CloudFront . Se voc\xea deseja adicionar um dom\xednio personalizado, HTTPS e implanta\xe7\xe3o cont\xednua, consulte esta ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://medium.com/dailyjs/a-guide-to-deploying-your-react-app-with-aws-s3-including-https-a-custom-domain-a-cdn-and-58245251f081"}),"postagem do blog"),"."),Object(r.b)("h2",{id:"surge"},Object(r.b)("a",Object(o.a)({parentName:"h2"},{href:"https://surge.sh/"}),"Surge")),Object(r.b)("p",null,"Instale o Surge CLI se ainda n\xe3o o fez, executando ",Object(r.b)("inlineCode",{parentName:"p"},"npm install -g surge"),". Execute o comando ",Object(r.b)("inlineCode",{parentName:"p"},"surge")," e fa\xe7a o login ou crie uma nova conta."),Object(r.b)("p",null,"Quando questionado sobre o caminho do projeto, certifique-se de especificar a pasta ",Object(r.b)("inlineCode",{parentName:"p"},"build"),", por exemplo:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"       project path: /path/to/project/build\n")),Object(r.b)("p",null,"Note que para suportar roteadores que usam a API HTML5 ",Object(r.b)("inlineCode",{parentName:"p"},"pushState"),", voc\xea pode querer renomear ",Object(r.b)("inlineCode",{parentName:"p"},"index.html")," em sua pasta de constru\xe7\xe3o para ",Object(r.b)("inlineCode",{parentName:"p"},"200.html")," antes de implantar no Surge. Isso ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://surge.sh/help/adding-a-200-page-for-client-side-routing"}),"garante que cada URL retorne a esse arquivo"),"."),Object(r.b)("h2",{id:"publica\xe7\xe3o-de-componentes-para-npm"},"Publica\xe7\xe3o de componentes para npm"),Object(r.b)("p",null,"O aplicativo Create React n\xe3o fornece nenhuma funcionalidade integrada para publicar um componente no npm. Se voc\xea estiver pronto para extrair um componente do seu projeto para que outras pessoas possam us\xe1-lo, recomendamos mov\xea-lo para um diret\xf3rio separado fora do seu projeto e, em seguida, usar uma ferramenta como ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/insin/nwb#react-components-and-libraries"}),"nwb")," para prepar\xe1-lo para publica\xe7\xe3o."))}l.isMDXComponent=!0}}]);