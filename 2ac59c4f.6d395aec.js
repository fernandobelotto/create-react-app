(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{113:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return b}));var o=t(0),r=t.n(o);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,o,r=function(e,a){if(null==e)return{};var t,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),m=function(e){var a=r.a.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},u=function(e){var a=m(e.components);return r.a.createElement(l.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},d=r.a.forwardRef((function(e,a){var t=e.components,o=e.mdxType,n=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=m(t),d=o,b=u["".concat(c,".").concat(d)]||u[d]||p[d]||n;return t?r.a.createElement(b,i(i({ref:a},l),{},{components:t})):r.a.createElement(b,i({ref:a},l))}));function b(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var n=t.length,c=new Array(n);c[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var l=2;l<n;l++)c[l]=t[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},68:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return i})),t.d(a,"rightToc",(function(){return s})),t.d(a,"default",(function(){return m}));var o=t(2),r=t(6),n=(t(0),t(113)),c={id:"troubleshooting",title:"Solu\xe7\xe3o de problemas",sidebar_label:"Solu\xe7\xe3o de problemas"},i={unversionedId:"troubleshooting",id:"troubleshooting",isDocsHomePage:!1,title:"Solu\xe7\xe3o de problemas",description:"npm start n\xe3o detecta mudan\xe7as",source:"@site/..\\docs\\troubleshooting.md",slug:"/troubleshooting",permalink:"/create-react-app/docs/troubleshooting",editUrl:"https://github.com/facebook/create-react-app/edit/master/docusaurus/website/../docs/troubleshooting.md",version:"current",lastUpdatedBy:"Fernando Belotto",lastUpdatedAt:1609711939,sidebar_label:"Solu\xe7\xe3o de problemas",sidebar:"docs",previous:{title:"Alternativas para eject",permalink:"/create-react-app/docs/alternatives-to-ejecting"}},s=[{value:"<code>npm start</code> n\xe3o detecta mudan\xe7as",id:"npm-start-n\xe3o-detecta-mudan\xe7as",children:[]},{value:"<code>npm start</code> falha devido a um erro de rel\xf3gio",id:"npm-start-falha-devido-a-um-erro-de-rel\xf3gio",children:[]},{value:"<code>npm test</code> trava ou falha no macOS Sierra",id:"npm-test-trava-ou-falha-no-macos-sierra",children:[]},{value:"<code>npm run build</code> sai muito cedo",id:"npm-run-build-sai-muito-cedo",children:[]},{value:"<code>npm run build</code> falha no Heroku",id:"npm-run-build-falha-no-heroku",children:[]},{value:"Locales Moment.js est\xe3o faltando",id:"locales-momentjs-est\xe3o-faltando",children:[]},{value:"<code>npm run build</code> falha ao minificar",id:"npm-run-build-falha-ao-minificar",children:[]}],l={rightToc:s};function m(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(n.b)("wrapper",Object(o.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("h2",{id:"npm-start-n\xe3o-detecta-mudan\xe7as"},Object(n.b)("inlineCode",{parentName:"h2"},"npm start")," n\xe3o detecta mudan\xe7as"),Object(n.b)("p",null,"Quando voc\xea salva um arquivo enquanto ",Object(n.b)("inlineCode",{parentName:"p"},"npm start")," est\xe1 em execu\xe7\xe3o, o navegador deve ser atualizado com o c\xf3digo atualizado."),Object(n.b)("p",null,"Se isso n\xe3o acontecer, tente uma das seguintes solu\xe7\xf5es alternativas:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Verifique se o seu arquivo foi importado pelo seu entrypoint. O TypeScript mostrar\xe1 erros em qualquer um de seus arquivos de origem, mas o webpack s\xf3 recarrega seus arquivos se eles forem importados direta ou indiretamente por um de seus pontos de entrada."),Object(n.b)("li",{parentName:"ul"},"Se o seu projeto estiver em uma pasta do Dropbox, tente mov\xea-lo para fora."),Object(n.b)("li",{parentName:"ul"},"Se o inspetor n\xe3o v\xea um arquivo chamado ",Object(n.b)("inlineCode",{parentName:"li"},"index.js")," e voc\xea o faz refer\xeancia pelo nome da pasta, voc\xea ",Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/facebook/create-react-app/issues/1164"}),"precisa reiniciar o observador")," devido a um bug do webpack."),Object(n.b)("li",{parentName:"ul"},"Alguns editores como Vim e IntelliJ t\xeam um recurso de \u201cgrava\xe7\xe3o segura\u201d que atualmente quebra o observador. Voc\xea precisar\xe1 desativ\xe1-lo. Siga as instru\xe7\xf5es em ",Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://webpack.js.org/guides/development/#adjusting-your-text-editor"}),"\u201cAjustando seu editor de texto\u201d"),"."),Object(n.b)("li",{parentName:"ul"},"Se o caminho do seu projeto cont\xe9m par\xeanteses, tente mover o projeto para um caminho sem eles. Isso \xe9 causado por um ",Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/webpack/watchpack/issues/42"}),"bug do observador do webpack"),"."),Object(n.b)("li",{parentName:"ul"},"No Linux e no macOS, voc\xea pode precisar ",Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/webpack/docs/wiki/troureenshot#not-enough-watchers"}),"ajustar as configura\xe7\xf5es do sistema")," para permitir mais observadores."),Object(n.b)("li",{parentName:"ul"},"Se o projeto for executado dentro de uma m\xe1quina virtual, como (um Vagrant provisionado) VirtualBox, crie um arquivo ",Object(n.b)("inlineCode",{parentName:"li"},".env")," no diret\xf3rio do seu projeto se ele n\xe3o existir e adicione ",Object(n.b)("inlineCode",{parentName:"li"},"CHOKIDAR_USEPOLLING=true")," a ele. Isso garante que na pr\xf3xima vez que voc\xea executar ",Object(n.b)("inlineCode",{parentName:"li"},"npm start"),", o observador use o modo de pesquisa, conforme necess\xe1rio dentro de uma VM.")),Object(n.b)("p",null,"Se nenhuma dessas solu\xe7\xf5es ajudar, deixe um coment\xe1rio ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/facebook/create-react-app/issues/659"}),"neste t\xf3pico"),"."),Object(n.b)("h2",{id:"npm-start-falha-devido-a-um-erro-de-rel\xf3gio"},Object(n.b)("inlineCode",{parentName:"h2"},"npm start")," falha devido a um erro de rel\xf3gio"),Object(n.b)("p",null,"Se voc\xea estiver usando um sistema operacional Linux e vir um erro semelhante a: ",Object(n.b)("inlineCode",{parentName:"p"},"ENOSPC: System limit for number of file watchers reached"),", voc\xea pode corrigir o problema aumentando a configura\xe7\xe3o ",Object(n.b)("inlineCode",{parentName:"p"},"fs.inotify.max_user_watches")," do seu sistema operacional."),Object(n.b)("p",null,"Se voc\xea estiver executando o Debian, RedHat ou outra distribui\xe7\xe3o Linux semelhante, execute o seguinte em um terminal:"),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p\n")),Object(n.b)("p",null,"Se voc\xea estiver executando o ArchLinux, execute o seguinte comando:"),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"echo fs.inotify.max_user_watches=524288 | sudo tee /etc/sysctl.d/40-max-user-watches.conf && sudo sysctl --system\n")),Object(n.b)("p",null,"Em seguida, cole-o no seu terminal e pressione Enter para execut\xe1-lo. Voc\xea pode encontrar mais informa\xe7\xf5es ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers#the-technical-details"}),"aqui"),"."),Object(n.b)("h2",{id:"npm-test-trava-ou-falha-no-macos-sierra"},Object(n.b)("inlineCode",{parentName:"h2"},"npm test")," trava ou falha no macOS Sierra"),Object(n.b)("p",null,"Se voc\xea executar ",Object(n.b)("inlineCode",{parentName:"p"},"npm test")," e o console travar ap\xf3s imprimir ",Object(n.b)("inlineCode",{parentName:"p"},"react-scripts test")," no console, pode haver um problema com a instala\xe7\xe3o do seu ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://facebook.github.io/watchman/"}),"Watchman")," conforme descrito em ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/facebook/create-react-app/issues/713"}),"facebook/ create-react-app#713"),"."),Object(n.b)("p",null,"Recomendamos deletar ",Object(n.b)("inlineCode",{parentName:"p"},"node_modules")," em seu projeto e executar ",Object(n.b)("inlineCode",{parentName:"p"},"npm install")," (ou ",Object(n.b)("inlineCode",{parentName:"p"},"yarn")," se voc\xea us\xe1-lo) primeiro. Se n\xe3o ajudar, voc\xea pode tentar uma das v\xe1rias solu\xe7\xf5es alternativas mencionadas nestes problemas:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/facebook/jest/issues/1767"}),"facebook/jest#1767")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/facebook/watchman/issues/358"}),"facebook/watchman#358")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://github.com/ember-cli/ember-cli/issues/6259"}),"ember-cli/ember-cli#6259"))),Object(n.b)("p",null,"\xc9 relatado que a instala\xe7\xe3o do Watchman 4.7.0 ou mais recente corrige o problema. Se voc\xea usar ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://brew.sh/"}),"Homebrew"),", poder\xe1 executar estes comandos para atualiz\xe1-lo:"),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"watchman shutdown-server\nbrew update\nbrew reinstall watchman\n")),Object(n.b)("p",null,"Voc\xea pode encontrar ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://facebook.github.io/watchman/docs/install.html#build-install"}),"outros m\xe9todos de instala\xe7\xe3o")," na p\xe1gina de documenta\xe7\xe3o do Watchman."),Object(n.b)("p",null,"Se isso ainda n\xe3o ajudar, tente executar ",Object(n.b)("inlineCode",{parentName:"p"},"launchctl unload -F ~/Library/ LaunchAgents/com.github.facebook.watchman.plist"),"."),Object(n.b)("p",null,"Tamb\xe9m h\xe1 relatos de que ",Object(n.b)("em",{parentName:"p"},"desinstalar")," Watchman corrige o problema. Portanto, se nada mais ajudar, remova-o do sistema e tente novamente."),Object(n.b)("h2",{id:"npm-run-build-sai-muito-cedo"},Object(n.b)("inlineCode",{parentName:"h2"},"npm run build")," sai muito cedo"),Object(n.b)("p",null,"\xc9 relatado que ",Object(n.b)("inlineCode",{parentName:"p"},"npm run build")," pode falhar em m\xe1quinas com mem\xf3ria limitada e sem espa\xe7o de troca, o que \xe9 comum em ambientes de nuvem. Mesmo com projetos pequenos, esse comando pode aumentar o uso de RAM em seu sistema em centenas de megabytes, portanto, se voc\xea tiver menos de 1 GB de mem\xf3ria dispon\xedvel, sua compila\xe7\xe3o provavelmente falhar\xe1 com a seguinte mensagem:"),Object(n.b)("blockquote",null,Object(n.b)("p",{parentName:"blockquote"},"The build failed because the process exited too early. This probably means the system ran out of memory or someone called ",Object(n.b)("inlineCode",{parentName:"p"},"kill -9")," on the process.")),Object(n.b)("p",null,"Se voc\xea tem certeza de que n\xe3o encerrou o processo, considere ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04"}),"adicionar algum espa\xe7o de troca")," para a m\xe1quina em que voc\xea est\xe1 construindo, ou construa o projeto localmente."),Object(n.b)("h2",{id:"npm-run-build-falha-no-heroku"},Object(n.b)("inlineCode",{parentName:"h2"},"npm run build")," falha no Heroku"),Object(n.b)("p",null,"Isso pode ser um problema com nomes de arquivo que diferenciam mai\xfasculas de min\xfasculas.\nConsulte ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"/create-react-app/docs/deployment#resolving-heroku-deployment-errors"}),"esta se\xe7\xe3o"),"."),Object(n.b)("h2",{id:"locales-momentjs-est\xe3o-faltando"},"Locales Moment.js est\xe3o faltando"),Object(n.b)("p",null,"Se voc\xea usar ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://momentjs.com/"}),"Moment.js"),", poder\xe1 notar que apenas a localidade em ingl\xeas est\xe1 dispon\xedvel por padr\xe3o. Isso ocorre porque os arquivos de localidade s\xe3o grandes e voc\xea provavelmente s\xf3 precisa de um subconjunto de ",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"https://momentjs.com/#multiple-locale-support"}),"todas as localidades fornecidas por Moment.js"),"."),Object(n.b)("p",null,"Para adicionar um local espec\xedfico do Moment.js ao seu pacote, voc\xea precisa import\xe1-lo explicitamente."),Object(n.b)("p",null,"Por exemplo:"),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import moment from 'moment';\nimport 'moment/locale/fr';\n")),Object(n.b)("p",null,"Se voc\xea estiver importando v\xe1rios locais desta forma, voc\xea pode alternar entre eles posteriormente chamando ",Object(n.b)("inlineCode",{parentName:"p"},"moment.locale()")," com o nome do local:"),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import moment from 'moment';\nimport 'moment/locale/fr';\nimport 'moment/locale/es';\n\n// ...\n\nmoment.locale('fr');\n")),Object(n.b)("p",null,"Isso s\xf3 funcionar\xe1 para localidades que foram importadas explicitamente antes."),Object(n.b)("h2",{id:"npm-run-build-falha-ao-minificar"},Object(n.b)("inlineCode",{parentName:"h2"},"npm run build")," falha ao minificar"),Object(n.b)("p",null,"Antes de ",Object(n.b)("inlineCode",{parentName:"p"},"react-scripts@2.0.0"),", este problema era causado por ",Object(n.b)("inlineCode",{parentName:"p"},"node_modules")," de terceiros usando recursos JavaScript modernos porque o minificador n\xe3o conseguia lidar com eles durante a constru\xe7\xe3o. Isso foi resolvido compilando recursos JavaScript modernos padr\xe3o dentro de ",Object(n.b)("inlineCode",{parentName:"p"},"node_modules")," em ",Object(n.b)("inlineCode",{parentName:"p"},"react-scripts@2.0.0")," e superior."),Object(n.b)("p",null,"Se voc\xea est\xe1 vendo esse erro, provavelmente est\xe1 usando uma vers\xe3o antiga do ",Object(n.b)("inlineCode",{parentName:"p"},"react-scripts"),". Voc\xea pode corrigi-lo evitando uma depend\xeancia que usa sintaxe moderna ou atualizando para ",Object(n.b)("inlineCode",{parentName:"p"},"react-scripts@>=2.0.0")," e seguindo as instru\xe7\xf5es de migra\xe7\xe3o no changelog."))}m.isMDXComponent=!0}}]);